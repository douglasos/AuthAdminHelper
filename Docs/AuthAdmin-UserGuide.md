# User Guide

The Authentication Administrator Helper PowerShell module includes additional functions that might be required by helpdesk/admins in the Authentication Administrator role that are not currently included in the Azure AD Portal.

## Getting the MFA authentication methods for a user

Run the following command to get the MFA authentication methods for a user:

```powershell
Get-MFAUserAuthenticationMethods -UserPrincipalName <UPN>
```

Where `<UPN>` is the User Principal Name of the user. The command accepts only one User Principal Name per call.

The output will show the authentication methods registered for the user. Methods not registered are not listed.

The methods are shown using the aliases described in [MFA Methods aliases](#mfa-methods-aliases).

A second column named IsDefault is added to the output. The column will contain the value “True” for the default authentication method and “False” for all the other methods.

## Changing the default MFA authentication method for a user

Run the following command to change the default MFA authentication method for a user:

```powershell
Set-MFAUserDefaultAuthenticationMethod -UserPrincipalName <UPN> -Method <MethodAlias>
```

Where:

- `<UPN>` is the User Principal Name of the user. The command accepts only one User Principal Name per call
- `<Method>` is the alias of MFA authentication method to set as default for the user as listed in [MFA Methods aliases](#mfa-methods-aliases). PowerShell tab completion can be used to cycle through the possible values.

The user should have already registered this method for the change to take effect. An error is shown if the user doesn’t have the selected method registered.

## Resetting the MFA authentication methods for a user

Run the following command to reset the MFA authentication methods for a user:

```powershell
Reset-MFAUserAuthenticationMethods -UserPrincipalName <UPN>
```

Where `<UPN>` is the User Principal Name of the user. The command accepts only one User Principal Name per call.

The effect of running this command is that the user will have to register again for Azure MFA.

## Getting the aliases of MFA authentication methods

Run the following command to get the aliases of the MFA authentication methods:

```powershell
Show-MFAMethodsNames
```

The output will show the aliases as described in [MFA Methods aliases](#mfa-methods-aliases).

## MFA Methods aliases

|Alias                      |Description  |
|---------------------------|-------------|
|TwoWayVoiceMobile          | Phone call to authentication phone |
|TwoWayVoiceAlternateMobile | Phone call to alternate authentication phone |
|TwoWayVoiceOffice          | Phone call to office phone |
|OneWaySMS                  | One-time code sent via SMS message to authentication phone |
|PhoneAppOTP                | One-time code generated by the Authenticator app |
|PhoneAppNotification       | Push notification to the Authenticator app |
